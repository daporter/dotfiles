" The following two lines must be in the given order.
set encoding=utf-8
scriptencoding utf-8

filetype plugin indent on

set hidden                  " allow switching away from unsaved buffers
set shiftwidth=4            " number of spaces for each step of indent
let &softtabstop=&shiftwidth " number of spaces pressing <Tab> counts for
set expandtab               " use spaces instead of a tab character
set autoindent              " new line copies previous line's indentation
set textwidth=79            " wrap text as close to 80 chars as possible
set listchars=tab:▸\ ,eol:¬     " symbols to indicate tabs and eols
set backspace=indent,eol,start  " proper backspace behaviour
set laststatus=2            " show the status line always
set ruler                   " show line,column of cursor in status line
set statusline=%<\ %f\ %m%r%y%w%=\ L:\ \%l\/\%L\ C:\ \%c\ 
set formatoptions+=n        " recognise numbered lists when formatting text
set formatoptions+=t        " automatically wrap text using 'textwidth'
set formatprg=par\ -w80     " use 'par' when gq is run
set incsearch               " use incremental searching
set ignorecase              " make searches case-insensitive
set smartcase               " intelligent case sensitivity in searches
set hlsearch                " highlight all search matches
set listchars=tab:▸\ ,eol:¬     " symbols to indicate tabs and eols
set laststatus=2
set spelllang=en_au         " use the Australia language region
set wildmode=longest,list   " use bash-style autocompletion
set showmatch               " in insert mode, show matching paren, etc.
set ttimeoutlen=100        " lower the timeout (ms) for keycodes (incl. ESC)

set guioptions-=rL          " remove both scrollbars
set guifont=Fura\ Code\ Medium\ Nerd\ Font\ Complete:h12
set linespace=3

" Make <C-l> remove search highlighting.
nnoremap <silent> <C-l> :<C-u>nohlsearch<CR><C-l>

" Load the matchit plugin.
packadd! matchit

" The following command displays the names of the syntax groups in the
" hierarchy at the current cursor position. Call it with :SS
command! SS echo map(synstack(line('.'), col('.')), 'synIDattr(v:val, "name")')

syntax on

" Color scheme customisations. For an explanation of this approach, see:
" https://gist.github.com/romainl/379904f91fa40533175dfaec4c833f2f
function! MyHighlights() abort
    highlight StatusLine   ctermbg=NONE ctermfg=2 cterm=reverse,bold
    highlight StatusLineNC ctermbg=NONE ctermfg=8 cterm=reverse,bold
    highlight VertSplit    ctermbg=NONE ctermfg=8 cterm=reverse
endfunction

augroup MyColors
    autocmd!
    autocmd ColorScheme * call MyHighlights()
augroup END

colorscheme wal
