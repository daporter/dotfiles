" The following two lines must be in the given order.
set encoding=utf-8
scriptencoding utf-8

filetype plugin indent on

set shiftwidth=4            " number of spaces for each step of indent
set softtabstop=4           " number of spaces pressing <Tab> counts for
set textwidth=79            " wrap text as close to 80 chars as possible
set autoindent              " new line copies previous line's indentation
set expandtab               " use spaces instead of a tab character
set listchars=tab:▸\ ,eol:¬     " symbols to indicate tabs and eols
set backspace=indent,eol,start  " proper backspace behavior
set cursorline              " highlight the screen line of the cursor
set ruler                   " show line,column of cursor in status line
set laststatus=2            " show the status line always
set formatoptions+=n        " recognise numbered lists when formatting text
set formatoptions+=t        " automatically wrap text using 'textwidth'
set formatprg=par\ -w80     " use 'par' when gq is run
set incsearch               " use incremental searching
set listchars=tab:▸\ ,eol:¬     " symbols to indicate tabs and eols
set laststatus=2
set spelllang=en_au         " use the Australia language region
set wildmode=longest,list   " use bash-style autocompletion

" Automatically display of errors in the quickfix window.
augroup MyQuickfix
    autocmd!
    autocmd QuickFixCmdPost [^l]* cwindow
    autocmd VimEnter        *     cwindow
augroup END

" Load the matchit plugin.
packadd! matchit

" Enable use of both jk and kj for <ESC>.
let g:easyescape_chars = { 'j': 1, 'k': 1 }
let g:easyescape_timeout = 100
cnoremap jk <ESC>
cnoremap kj <ESC>

" The following command displays the names of the syntax groups in the
" hierarchy at the current cursor positon. Call it with :SS
command! SS echo map(synstack(line('.'), col('.')), 'synIDattr(v:val, "name")')

syntax on

if has('termguicolors')
  set termguicolors         " use 24-bit colour
endif

set background=light
colorscheme dporter
