#!/bin/sh
#
# Connect to or disconnect from an external monitor.
#
# NOTE: Assumes the external monitor is connected via DisplayPort and
# named DP1.

_check() {
	command -v "$1" > /dev/null
}

_external_is_connected () {
	xrandr --query | grep -q 'DP1 connected'
}

_reconfigure_wallpaper () {
	"$HOME"/.fehbg
}

if ! _check xrandr; then
	echo "Error: xrandr not found"
	exit 1
fi

if _external_is_connected; then
	xrandr --output DP1 --auto --primary
	xrandr --output LVDS1 --right-of DP1
else
	xrandr --output LVDS1 --auto --primary
	xrandr --output DP1 --off
fi

#_reconfigure_wallpaper
